# apphosting.yaml
# This file should be placed at the root of your GitHub repository.

# The 'source' field tells App Hosting where to find your application code.
# Since your package.json is in the root, we set this to '.'
source: .

# The 'buildCommand' specifies the command to execute to build your Next.js application.
buildCommand: "npm run build" # Use 'npm run build' as defined in your package.json

# The 'outputDirectory' tells App Hosting where to find the static assets and server
# components generated by your Next.js build. For Next.js, this is usually '.next'.
outputDirectory: ".next"

# The 'runConfig' section defines runtime settings for your deployed application.
# We're adjusting maxInstances based on our previous discussion to prevent
# potential scaling-related build or runtime issues.
runConfig:
  minInstances: 0
  maxInstances: 4 # Recommended for better stability during build and runtime
  # If you have environment variables (like API keys) that your Next.js app
  # needs during build or runtime, you would define them here:
  # env:
